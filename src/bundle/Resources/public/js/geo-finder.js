!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("react"),require("react-dom"),require("leaflet")):"function"==typeof define&&define.amd?define(["react","react-dom","leaflet"],t):t((e=e||self).React,e.ReactDOM,e.L)}(this,(function(e,t,n){"use strict";var r="default"in e?e.default:e,o="default"in t?t.default:t,a="default"in n?n.default:n;function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e,t,n){return(m=h()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&d(o,n.prototype),o}).apply(null,arguments)}function v(e){var t="function"==typeof Map?new Map:void 0;return(v=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return m(e,arguments,p(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),d(r,e)})(e)}function y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function g(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=e.createContext(),x=function(e){var t=e.value,n=e.children;return r.createElement(w.Provider,{value:t},n)},L=function(){return e.useContext(w)};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function _(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function P(e,t){return e(t={exports:{}},t.exports),t.exports
/** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */}var S="function"==typeof Symbol&&Symbol.for,T=S?Symbol.for("react.element"):60103,j=S?Symbol.for("react.portal"):60106,I=S?Symbol.for("react.fragment"):60107,k=S?Symbol.for("react.strict_mode"):60108,R=S?Symbol.for("react.profiler"):60114,A=S?Symbol.for("react.provider"):60109,N=S?Symbol.for("react.context"):60110,D=S?Symbol.for("react.async_mode"):60111,M=S?Symbol.for("react.concurrent_mode"):60111,U=S?Symbol.for("react.forward_ref"):60112,z=S?Symbol.for("react.suspense"):60113,B=S?Symbol.for("react.suspense_list"):60120,V=S?Symbol.for("react.memo"):60115,W=S?Symbol.for("react.lazy"):60116,F=S?Symbol.for("react.block"):60121,Z=S?Symbol.for("react.fundamental"):60117,H=S?Symbol.for("react.responder"):60118,$=S?Symbol.for("react.scope"):60119;function G(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case T:switch(e=e.type){case D:case M:case I:case R:case k:case z:return e;default:switch(e=e&&e.$$typeof){case N:case U:case W:case V:case A:return e;default:return t}}case j:return t}}}function K(e){return G(e)===M}var q={AsyncMode:D,ConcurrentMode:M,ContextConsumer:N,ContextProvider:A,Element:T,ForwardRef:U,Fragment:I,Lazy:W,Memo:V,Portal:j,Profiler:R,StrictMode:k,Suspense:z,isAsyncMode:function(e){return K(e)||G(e)===D},isConcurrentMode:K,isContextConsumer:function(e){return G(e)===N},isContextProvider:function(e){return G(e)===A},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===T},isForwardRef:function(e){return G(e)===U},isFragment:function(e){return G(e)===I},isLazy:function(e){return G(e)===W},isMemo:function(e){return G(e)===V},isPortal:function(e){return G(e)===j},isProfiler:function(e){return G(e)===R},isStrictMode:function(e){return G(e)===k},isSuspense:function(e){return G(e)===z},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===I||e===M||e===R||e===k||e===z||e===B||"object"==typeof e&&null!==e&&(e.$$typeof===W||e.$$typeof===V||e.$$typeof===A||e.$$typeof===N||e.$$typeof===U||e.$$typeof===Z||e.$$typeof===H||e.$$typeof===$||e.$$typeof===F)},typeOf:G},Y=P((function(e,t){})),J=(Y.AsyncMode,Y.ConcurrentMode,Y.ContextConsumer,Y.ContextProvider,Y.Element,Y.ForwardRef,Y.Fragment,Y.Lazy,Y.Memo,Y.Portal,Y.Profiler,Y.StrictMode,Y.Suspense,Y.isAsyncMode,Y.isConcurrentMode,Y.isContextConsumer,Y.isContextProvider,Y.isElement,Y.isForwardRef,Y.isFragment,Y.isLazy,Y.isMemo,Y.isPortal,Y.isProfiler,Y.isStrictMode,Y.isSuspense,Y.isValidElementType,Y.typeOf,P((function(e){e.exports=q}))),X=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;function te(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}})()&&Object.assign,Function.call.bind(Object.prototype.hasOwnProperty);function ne(){}function re(){}re.resetWarningCache=ne;var oe=P((function(e){e.exports=function(){function e(e,t,n,r,o,a){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==a){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:re,resetWarningCache:ne};return n.PropTypes=n,n}()})),ae=le()?r.useLayoutEffect:r.useEffect;function ie(e,t){if(null!=e)if(fe(e))e(t);else try{e.current=t}catch(n){throw new Error('Cannot assign value "'+t+'" to ref "'+e+'"')}}function le(){return"undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement}function ue(t,n){var r=e.createContext(n);return r.displayName=t,r}function ce(e){return r.forwardRef(e)}function se(e){return e&&e.ownerDocument?e.ownerDocument:le()?document:null}function fe(e){return!(!e||"[object Function]"!={}.toString.call(e))}function pe(){}function de(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.useMemo((function(){return n.every((function(e){return null==e}))?null:function(e){n.forEach((function(t){ie(t,e)}))}}),n)}function he(e,t){return function(n){if(e&&e(n),!n.defaultPrevented)return t(n)}}function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ve(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function ye(e,t){return void 0===t&&(t={}),ue(e,me({descendants:[],registerDescendant:pe,unregisterDescendant:pe},t))}function ge(t){var n=t.context,o=t.children,a=t.items,i=t.set,l=r.useCallback((function(e){var t=e.element,n=ve(e,["element"]);t&&i((function(e){var r,o;if(0===e.length)r=me({element:t,index:0},n),o=[].concat(e,[r]);else if(e.find((function(e){return e.element===t})))o=e;else{var a=e.findIndex((function(e){return!(!e.element||!t)&&Boolean(e.element.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING)}));r=me({element:t,index:a},n),o=-1===a?[].concat(e,[r]):[].concat(e.slice(0,a),[r],e.slice(a))}return o.map((function(e,t){return me({},e,{index:t})}))}))}),[]),u=e.useCallback((function(e){e&&i((function(t){return t.filter((function(t){return e!==t.element}))}))}),[]),c=e.useMemo((function(){return{descendants:a,registerDescendant:l,unregisterDescendant:u}}),[a,l,u]);return r.createElement(n.Provider,{value:c},o)}var be=P((function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);Object.defineProperty(t,"combineChunks",{enumerable:!0,get:function(){return r.combineChunks}}),Object.defineProperty(t,"fillInChunks",{enumerable:!0,get:function(){return r.fillInChunks}}),Object.defineProperty(t,"findAll",{enumerable:!0,get:function(){return r.findAll}}),Object.defineProperty(t,"findChunks",{enumerable:!0,get:function(){return r.findChunks}})},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.findAll=function(e){var t=e.autoEscape,a=e.caseSensitive,i=void 0!==a&&a,l=e.findChunks,u=void 0===l?r:l,c=e.sanitize,s=e.searchWords,f=e.textToHighlight;return o({chunksToHighlight:n({chunks:u({autoEscape:t,caseSensitive:i,sanitize:c,searchWords:s,textToHighlight:f})}),totalLength:f?f.length:0})};var n=t.combineChunks=function(e){var t=e.chunks;return t=t.sort((function(e,t){return e.start-t.start})).reduce((function(e,t){if(0===e.length)return[t];var n=e.pop();if(t.start<=n.end){var r=Math.max(n.end,t.end);e.push({highlight:!1,start:n.start,end:r})}else e.push(n,t);return e}),[])},r=function(e){var t=e.autoEscape,n=e.caseSensitive,r=e.sanitize,o=void 0===r?a:r,i=e.searchWords,l=e.textToHighlight;return l=o(l),i.filter((function(e){return e})).reduce((function(e,r){r=o(r),t&&(r=r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"));for(var a=new RegExp(r,n?"g":"gi"),i=void 0;i=a.exec(l);){var u=i.index,c=a.lastIndex;c>u&&e.push({highlight:!1,start:u,end:c}),i.index===a.lastIndex&&a.lastIndex++}return e}),[])};t.findChunks=r;var o=t.fillInChunks=function(e){var t=e.chunksToHighlight,n=e.totalLength,r=[],o=function(e,t,n){t-e>0&&r.push({start:e,end:t,highlight:n})};if(0===t.length)o(0,n,!1);else{var a=0;t.forEach((function(e){o(a,e.start,!1),o(e.start,e.end,!0),a=e.end})),o(a,n,!1)}return r};function a(e){return e}}])}));_(be);be.combineChunks,be.fillInChunks;var Ee,Oe=be.findAll,Ce=(be.findChunks,!1),we=0,xe=function(){return++we},Le=function(n){var o=n.children,a=n.type,i=void 0===a?"reach-portal":a,l=e.useRef(null),u=e.useRef(null),c=e.useState()[1];return ae((function(){var e=l.current.ownerDocument;return u.current=null==e?void 0:e.createElement(i),e.body.appendChild(u.current),c({}),function(){u.current&&u.current.ownerDocument&&u.current.ownerDocument.body.removeChild(u.current)}}),[i]),u.current?t.createPortal(o,u.current):r.createElement("span",{ref:l})},_e=["bottom","height","left","right","top","width"],Pe=new Map,Se=function e(){var t=[];Pe.forEach((function(e,n){var r=n.getBoundingClientRect();(function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),_e.some((function(n){return e[n]!==t[n]}))})(r,e.rect)&&(e.rect=r,t.push(e))})),t.forEach((function(e){e.callbacks.forEach((function(t){return t(e.rect)}))})),Ee=window.requestAnimationFrame(e)};function Te(t,n,r){void 0===n&&(n=!0);var o=e.useRef(!1),a=e.useState(null),i=a[0],l=a[1],u=e.useRef(null);return ae((function(){var e,a,i=function(){u.current&&u.current.unobserve()};return t.current?(u.current||(u.current=(e=t.current,a=function(e){r&&r(e),l(e)},{observe:function(){var t=0===Pe.size;Pe.has(e)?Pe.get(e).callbacks.push(a):Pe.set(e,{rect:void 0,hasRectChanged:!1,callbacks:[a]}),t&&Se()},unobserve:function(){var t=Pe.get(e);if(t){var n=t.callbacks.indexOf(a);n>=0&&t.callbacks.splice(n,1),t.callbacks.length||Pe.delete(e),Pe.size||cancelAnimationFrame(Ee)}}})),o.current||(o.current=!0,l(t.current.getBoundingClientRect())),n&&u.current.observe(),i):(console.warn("You need to place the ref"),i)}),[n,r]),i}var je=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],Ie=je.join(","),ke="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function Re(e,t){t=t||{};var n,r,o,a=[],i=[],l=e.querySelectorAll(Ie);for(t.includeContainer&&ke.call(e,Ie)&&(l=Array.prototype.slice.apply(l)).unshift(e),n=0;n<l.length;n++)Ae(r=l[n])&&(0===(o=Me(r))?a.push(r):i.push({documentOrder:n,tabIndex:o,node:r}));return i.sort(Ue).map((function(e){return e.node})).concat(a)}function Ae(e){return!(!Ne(e)||function(e){return function(e){return ze(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t=function(e){for(var t=0;t<e.length;t++)if(e[t].checked)return e[t]}(e.ownerDocument.querySelectorAll('input[type="radio"][name="'+e.name+'"]'));return!t||t===e}(e)}(e)||Me(e)<0)}function Ne(e){return!(e.disabled||function(e){return ze(e)&&"hidden"===e.type}(e)||function(e){return null===e.offsetParent||"hidden"===getComputedStyle(e).visibility}(e))}Re.isTabbable=function(e){if(!e)throw new Error("No node provided");return!1!==ke.call(e,Ie)&&Ae(e)},Re.isFocusable=function(e){if(!e)throw new Error("No node provided");return!1!==ke.call(e,De)&&Ne(e)};var De=je.concat("iframe").join(",");function Me(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?function(e){return"true"===e.contentEditable}(e)?0:e.tabIndex:t}function Ue(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex}function ze(e){return"INPUT"===e.tagName}var Be=Re;function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var We=e.forwardRef((function(e,t){return r.createElement(Le,null,r.createElement(Fe,Object.assign({ref:t},e)))})),Fe=e.forwardRef((function(t,n){var o=t.targetRef,a=t.position,i=void 0===a?Ye:a,l=t.style,u=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["targetRef","position","style"]),c=e.useRef(null),s=Te(c),f=Te(o),p=de(c,n);return function(t,n){var r=se(t.current);function o(e){"Tab"===e.key&&n.current&&0===Be(n.current).length||("Tab"===e.key&&e.shiftKey?function(e){if(!e.shiftKey)return;var t=a();return e.target===t}(e)?function(e){var t=n.current&&Be(n.current),r=t&&t[t.length-1];r&&(e.preventDefault(),r.focus())}(e):function(e){var t=n.current&&Be(n.current);if(t)return 0!==t.length&&e.target===t[0];return!1}(e)?function(e){var n;e.preventDefault(),null===(n=t.current)||void 0===n||n.focus()}(e):function(e){return!!r&&e.target===Be(r)[0]}(e)&&l():"Tab"===e.key&&(t.current&&r&&t.current===r.activeElement?function(e){var t=n.current&&Be(n.current);t&&t[0]&&(e.preventDefault(),t[0].focus())}(e):function(){if(n.current&&r&&n.current.contains(r.activeElement||null)){var e=n.current&&Be(n.current);return Boolean(e&&r&&e[e.length-1]===r.activeElement)}return!1}()?function(e){var t=a();t&&(e.preventDefault(),t.focus())}(e):function(e){var t=r&&n.current?Be(r).filter((function(e){return!n.current.contains(e)})):null;return!!t&&e.target===t[t.length-1]}(e)&&l()))}function a(){var e=r&&Be(r),n=e&&t.current?e.indexOf(t.current):-1;return e&&e[n+1]}e.useEffect((function(){if(r)return r.addEventListener("keydown",o),function(){r.removeEventListener("keydown",o)}}),[]);var i=[];function l(){var e=n.current&&Be(n.current);e&&(e.forEach((function(e){i.push([e,e.tabIndex]),e.tabIndex=-1})),r&&r.addEventListener("focusin",u))}function u(){r&&r.removeEventListener("focusin",u),i.forEach((function(e){var t=e[0],n=e[1];t.tabIndex=n}))}}(o,c),r.createElement("div",Object.assign({"data-reach-popover":"",ref:p,style:Ve({},l,{position:"absolute"},Ze(i,f,s))},u))}));function Ze(e,t,n){return!n?{visibility:"hidden"}:e(t,n)}var He,$e,Ge,Ke,qe,Ye=function(e,t){if(!e||!t)return{};var n=Xe(e,t),r=n.directionUp;return{left:n.directionRight?e.right-t.width+window.pageXOffset+"px":e.left+window.pageXOffset+"px",top:r?e.top-t.height+window.pageYOffset+"px":e.top+e.height+window.pageYOffset+"px"}},Je=function(e,t){if(!e||!t)return{};var n=Xe(e,t).directionUp;return{width:e.width,left:e.left,top:n?e.top-t.height+window.pageYOffset+"px":e.top+e.height+window.pageYOffset+"px"}};function Xe(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var o={top:e.top-t.height<0,right:window.innerWidth<e.left+t.width-n,bottom:window.innerHeight<e.bottom+t.height-r,left:e.left+e.width-t.width<0};return{directionRight:o.right&&!o.left,directionUp:o.bottom&&!o.top}}function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function et(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var tt="IDLE",nt="SUGGESTING",rt="NAVIGATING",ot="INTERACTING",at="NAVIGATE",it={initial:tt,states:(qe={},qe[tt]={on:(He={},He.BLUR=tt,He.CLEAR=tt,He.CHANGE=nt,He.INITIAL_CHANGE=tt,He.FOCUS=nt,He[at]=rt,He.OPEN_WITH_BUTTON=nt,He)},qe[nt]={on:($e={},$e.CHANGE=nt,$e.FOCUS=nt,$e[at]=rt,$e.CLEAR=tt,$e.ESCAPE=tt,$e.BLUR=tt,$e.SELECT_WITH_CLICK=tt,$e.INTERACT=ot,$e.CLOSE_WITH_BUTTON=tt,$e)},qe[rt]={on:(Ge={},Ge.CHANGE=nt,Ge.FOCUS=nt,Ge.CLEAR=tt,Ge.BLUR=tt,Ge.ESCAPE=tt,Ge[at]=rt,Ge.SELECT_WITH_CLICK=tt,Ge.SELECT_WITH_KEYBOARD=tt,Ge.CLOSE_WITH_BUTTON=tt,Ge.INTERACT=ot,Ge)},qe[ot]={on:(Ke={},Ke.CHANGE=nt,Ke.FOCUS=nt,Ke.BLUR=tt,Ke.ESCAPE=tt,Ke[at]=rt,Ke.CLOSE_WITH_BUTTON=tt,Ke.SELECT_WITH_CLICK=tt,Ke)},qe)},lt=function(e,t){var n=Qe({},e,{lastEventType:t.type});switch(t.type){case"CHANGE":case"INITIAL_CHANGE":return Qe({},n,{navigationValue:null,value:t.value});case at:case"OPEN_WITH_BUTTON":return Qe({},n,{navigationValue:ct(n,t)});case"CLEAR":return Qe({},n,{value:"",navigationValue:null});case"BLUR":case"ESCAPE":return Qe({},n,{navigationValue:null});case"SELECT_WITH_CLICK":return Qe({},n,{value:t.value,navigationValue:null});case"SELECT_WITH_KEYBOARD":return Qe({},n,{value:e.navigationValue,navigationValue:null});case"CLOSE_WITH_BUTTON":return Qe({},n,{navigationValue:null});case"INTERACT":return n;case"FOCUS":return Qe({},n,{navigationValue:ct(n,t)});default:return n}};function ut(e){return[nt,rt,ot].includes(e)}function ct(e,t){return t.value?t.value:t.persistSelection?e.value:null}var st=ye("ComboboxDescendantContext"),ft=ue("ComboboxContext",{}),pt=ue("OptionContext",{}),dt=ce((function(t,n){var o=t.onSelect,a=t.openOnFocus,i=void 0!==a&&a,l=t.children,u=t.as,c=void 0===u?"div":u,s=t["aria-label"],f=t["aria-labelledby"],p=et(t,["onSelect","openOnFocus","children","as","aria-label","aria-labelledby"]),d=e.useState([]),h=d[0],m=d[1],v=e.useRef(),y=e.useRef(),g=e.useRef(),b=e.useRef(),E=e.useRef(),O=function(t,n,r){var o=e.useState(t.initial),a=o[0],i=o[1],l=e.useReducer(n,r),u=l[0],c=l[1];return[a,u,function(e,n){void 0===n&&(n={});var r=t.states[a],o=r&&r.on[e];if(o)return c(Qe({type:e,state:a,nextState:a},n)),void i(o)}]}(it,lt,{value:"",navigationValue:null}),C=O[0],w=O[1],x=O[2];!function(e,t){ae((function(){e!==at&&"ESCAPE"!==e&&"SELECT_WITH_CLICK"!==e&&"OPEN_WITH_BUTTON"!==e||t.current.focus()}),[t,e])}(w.lastEventType,v);var L=function(t){var n=t||(Ce?xe():null),r=e.useState(n),o=r[0],a=r[1];return ae((function(){null===o&&a(xe())}),[]),e.useEffect((function(){!1===Ce&&(Ce=!0)}),[]),null!=o?String(o):void 0}(p.id),_=L?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).join("--")}("listbox",L):"listbox",P={ariaLabel:s,ariaLabelledby:f,autocompletePropRef:b,buttonRef:g,comboboxId:L,data:w,inputRef:v,isExpanded:ut(C),listboxId:_,onSelect:o||pe,openOnFocus:i,persistSelectionRef:E,popoverRef:y,state:C,transition:x};return e.useEffect((function(){}),[]),r.createElement(ge,{context:st,items:h,set:m},r.createElement(ft.Provider,{value:P},r.createElement(c,Object.assign({},p,{"data-reach-combobox":"",ref:n}),fe(l)?l({id:L,isExpanded:ut(C)}):l)))})),ht=ce((function(t,n){var o,a,i,l=t.as,u=void 0===l?"input":l,c=t.selectOnClick,s=void 0!==c&&c,f=t.autocomplete,p=void 0===f||f,d=t.onClick,h=t.onChange,m=t.onKeyDown,v=t.onBlur,y=t.onFocus,g=t.value,b=et(t,["as","selectOnClick","autocomplete","onClick","onChange","onKeyDown","onBlur","onFocus","value"]),E=e.useRef(g).current,O=e.useRef(!1);o=function(){O.current=!0},a=[g],i=e.useRef(!1),e.useEffect((function(){i.current?o():i.current=!0}),a);var C=e.useContext(ft),w=C.data,x=w.navigationValue,L=w.value,_=w.lastEventType,P=C.inputRef,S=C.state,T=C.transition,j=C.listboxId,I=C.autocompletePropRef,k=C.openOnFocus,R=C.isExpanded,A=C.ariaLabel,N=C.ariaLabelledby,D=de(P,n),M=e.useRef(!1),U=bt(),z=Et(),B=null!=g;ae((function(){I.current=p}),[p,I]);var V=e.useCallback((function(e){""===e.trim()?T("CLEAR"):e!==E||O.current?T("CHANGE",{value:e}):T("INITIAL_CHANGE",{value:e})}),[E,T]);e.useEffect((function(){!B||g===L||""===g.trim()&&""===(L||"").trim()||V(g)}),[g,V,B,L]);var W=!p||S!==rt&&S!==ot?g||L:x||g||L;return r.createElement(u,Object.assign({"aria-activedescendant":x?String(Ot(x)):void 0,"aria-autocomplete":"both","aria-controls":j,"aria-expanded":R,"aria-haspopup":"listbox","aria-label":A,"aria-labelledby":A?void 0:N,role:"combobox"},b,{"data-reach-combobox-input":"",ref:D,onBlur:he(v,z),onChange:he(h,(function(e){var t=e.target.value;B||V(t)})),onClick:he(d,(function(){M.current&&(M.current=!1,P.current.select())})),onFocus:he(y,(function(){s&&(M.current=!0),k&&"SELECT_WITH_CLICK"!==_&&T("FOCUS")})),onKeyDown:he(m,U),value:W||""}))})),mt=e.forwardRef((function(t,n){var o=t.children,a=t.portal,i=void 0===a||a,l=t.onKeyDown,u=t.onBlur,c=et(t,["children","portal","onKeyDown","onBlur"]),s=e.useContext(ft),f=s.popoverRef,p=s.inputRef,d=s.isExpanded,h=de(f,n),m=bt(),v=Et(),y={"data-reach-combobox-popover":"",onKeyDown:he(l,m),onBlur:he(u,v),hidden:!d,tabIndex:-1,children:o};return i?r.createElement(We,Object.assign({},c,{ref:h,position:Je,targetRef:p},y)):r.createElement("div",Object.assign({ref:h},c,y))})),vt=ce((function(t,n){var o=t.persistSelection,a=void 0!==o&&o,i=t.as,l=void 0===i?"ul":i,u=et(t,["persistSelection","as"]),c=e.useContext(ft),s=c.persistSelectionRef,f=c.listboxId;return a&&(s.current=!0),r.createElement(l,Object.assign({role:"listbox"},u,{ref:n,"data-reach-combobox-list":"",id:f}))})),yt=ce((function(t,n){var o,a,i,l,u,c,s,f,p,d,h=t.as,m=void 0===h?"li":h,v=t.children,y=t.value,g=t.onClick,b=et(t,["as","children","value","onClick"]),E=e.useContext(ft),O=E.onSelect,C=E.data.navigationValue,w=E.transition,x=e.useRef(null),L=de(n,x),_=(o={context:st,element:x.current,value:y},i=o.context,l=o.element,u=ve(o,["context","element"]),c=e.useState()[1],s=e.useContext(i),f=s.registerDescendant,p=s.unregisterDescendant,d=s.descendants,ae((function(){return l||c({}),f(me({element:l},u)),function(){return p(l)}}),[l].concat(Object.values(u))),null!=a?a:d.findIndex((function(e){return e.element===l}))),P=C===y;return r.createElement(pt.Provider,{value:{value:y,index:_}},r.createElement(m,Object.assign({"aria-selected":P,role:"option"},b,{"data-reach-combobox-option":"",ref:L,id:String(Ot(y)),"data-highlighted":P?"":void 0,tabIndex:-1,onClick:he(g,(function(){O&&O(y),w("SELECT_WITH_CLICK",{value:y})})),children:v||r.createElement(gt,null)})))}));function gt(){var t=e.useContext(pt).value,n=e.useContext(ft).data.value,o=e.useMemo((function(){return Oe({searchWords:(e=n||"",String(e).replace(/([.*+?=^!:${}()|[\]/\\])/g,"\\$1")).split(/\s+/),textToHighlight:t});var e}),[n,t]);return r.createElement(r.Fragment,null,o.length?o.map((function(e,n){var o=t.slice(e.start,e.end);return r.createElement("span",{key:n,"data-user-value":!!e.highlight||void 0,"data-suggested-value":!e.highlight||void 0},o)})):t)}function bt(){var t=e.useContext(ft),n=t.data.navigationValue,r=t.onSelect,o=t.state,a=t.transition,i=t.autocompletePropRef,l=t.persistSelectionRef,u=e.useContext(st).descendants;return function(e){var t=u.findIndex((function(e){return e.value===n}));function c(){return u[0]}function s(){return u[u.length-1]}switch(e.key){case"ArrowDown":if(e.preventDefault(),!u||!u.length)return;if(o===tt)a(at,{persistSelection:l.current});else{var f=t===u.length-1?i.current?null:c():u[(t+1)%u.length];a(at,{value:f?f.value:null})}break;case"ArrowUp":if(e.preventDefault(),!u||0===u.length)return;if(o===tt)a(at);else{var p=0===t?i.current?null:s():-1===t?s():u[(t-1+u.length)%u.length];a(at,{value:p?p.value:null})}break;case"Home":case"PageUp":if(e.preventDefault(),!u||0===u.length)return;o===tt?a(at):a(at,{value:c().value});break;case"End":case"PageDown":if(e.preventDefault(),!u||0===u.length)return;o===tt?a(at):a(at,{value:s().value});break;case"Escape":o!==tt&&a("ESCAPE");break;case"Enter":o===rt&&null!==n&&(e.preventDefault(),r&&r(n),a("SELECT_WITH_KEYBOARD"))}}}function Et(){var t=e.useContext(ft),n=t.state,r=t.transition,o=t.popoverRef,a=t.inputRef,i=t.buttonRef;return function(){var e=se(a.current)||document;requestAnimationFrame((function(){e.activeElement!==a.current&&e.activeElement!==i.current&&o.current&&(o.current.contains(e.activeElement)?n!==ot&&r("INTERACT"):r("BLUR"))}))}}var Ot=function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t};function Ct(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.body,r=t.output,o=void 0===r?"json":r,a=y(t,["body","output"]),i={json:{"Content-Type":"application/json"},text:{"Content-Type":"text/html"}},l=f({method:n?"POST":"GET"},a,{headers:f({},i[o],{},a.headers)});return n&&(l.body=JSON.stringify(n)),window.fetch(new URL(e,document.location.origin+"/api/ezp/v2/ez_geo_data_gouv/").href,l).then((function(e){return e.ok?e[o]():Promise.reject(e.statusText)}))}var wt={enableHighAccuracy:!1,timeout:1/0,maximumAge:0};function xt(){return(xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Lt={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},_t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Pt={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},St={};function Tt(e){return J.isMemo(e)?Pt:St[e.$$typeof]||Lt}St[J.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},St[J.Memo]=Pt;var jt=Object.defineProperty,It=Object.getOwnPropertyNames,kt=Object.getOwnPropertySymbols,Rt=Object.getOwnPropertyDescriptor,At=Object.getPrototypeOf,Nt=Object.prototype;var Dt=function e(t,n,r){if("string"!=typeof n){if(Nt){var o=At(n);o&&o!==Nt&&e(t,o,r)}var a=It(n);kt&&(a=a.concat(kt(n)));for(var i=Tt(t),l=Tt(n),u=0;u<a.length;++u){var c=a[u];if(!(_t[c]||r&&r[c]||l&&l[c]||i&&i[c])){var s=Rt(n,c);try{jt(t,c,s)}catch(e){}}}}return t},Mt=e.createContext({}),Ut=Mt.Consumer,zt=Mt.Provider,Bt=function(t){var n=function(e,n){return r.createElement(Ut,null,(function(o){return r.createElement(t,xt({},e,{leaflet:o,ref:n}))}))},o=t.displayName||t.name||"Component";n.displayName="Leaflet("+o+")";var a=e.forwardRef(n);return Dt(a,t),a};function Vt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zt=function(e){function t(t){var n;return Ft(Wt(n=e.call(this,t)||this),"leafletElement",void 0),n.leafletElement=n.createLeafletElement(n.props),n}Vt(t,e);var n=t.prototype;return n.createLeafletElement=function(e){throw new Error("createLeafletElement() must be implemented")},n.updateLeafletElement=function(e,t){t.position!==e.position&&this.leafletElement.setPosition(t.position)},n.componentDidMount=function(){this.leafletElement.addTo(this.props.leaflet.map)},n.componentDidUpdate=function(e){this.updateLeafletElement(e,this.props)},n.componentWillUnmount=function(){this.leafletElement.remove()},n.render=function(){return null},t}(e.Component),Ht=Bt(function(e){function t(){return e.apply(this,arguments)||this}return Vt(t,e),t.prototype.createLeafletElement=function(e){return new n.Control.Attribution(e)},t}(Zt));function $t(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var Gt=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,a[o]))return!1;for(o=r;0!=o--;){var i=a[o];if(!e(t[i],n[i]))return!1}return!0}return t!=t&&n!=n};function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qt(e,t,n){return t&&Kt(e.prototype,t),n&&Kt(e,n),e}var Yt=/^on(.+)$/i,Jt=function(e){function t(t){var n;return Ft(Wt(n=e.call(this,t)||this),"_leafletEvents",void 0),Ft(Wt(n),"leafletElement",void 0),n._leafletEvents=n.extractLeafletEvents(t),n}Vt(t,e);var n=t.prototype;return n.componentDidMount=function(){this.bindLeafletEvents(this._leafletEvents)},n.componentDidUpdate=function(e){this._leafletEvents=this.bindLeafletEvents(this.extractLeafletEvents(this.props),this._leafletEvents)},n.componentWillUnmount=function(){var e=this,t=this.leafletElement;t&&Object.keys(this._leafletEvents).forEach((function(n){t.off(n,e._leafletEvents[n])}))},n.extractLeafletEvents=function(e){return Object.keys(e).reduce((function(t,n){Yt.test(n)&&(null!=e[n]&&(t[n.replace(Yt,(function(e,t){return t.toLowerCase()}))]=e[n]));return t}),{})},n.bindLeafletEvents=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=this.leafletElement;if(null==n||null==n.on)return{};var r=xt({},t);return Object.keys(t).forEach((function(o){null!=e[o]&&t[o]===e[o]||(delete r[o],n.off(o,t[o]))})),Object.keys(e).forEach((function(o){null!=t[o]&&e[o]===t[o]||(r[o]=e[o],n.on(o,e[o]))})),r},n.fireLeafletEvent=function(e,t){var n=this.leafletElement;n&&n.fire(e,t)},t}(e.Component),Xt=function(e){function t(){return e.apply(this,arguments)||this}return Vt(t,e),t.prototype.getOptions=function(e){return null!=e.pane?e:null!=e.leaflet&&null!=e.leaflet.pane?xt({},e,{pane:e.leaflet.pane}):e},t}(Jt),Qt=function(t){function n(e){var n;return Ft(Wt(n=t.call(this,e)||this),"contextValue",void 0),Ft(Wt(n),"leafletElement",void 0),n.leafletElement=n.createLeafletElement(e),n}Vt(n,t);var o=n.prototype;return o.createLeafletElement=function(e){throw new Error("createLeafletElement() must be implemented")},o.updateLeafletElement=function(e,t){},o.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.layerContainer.addLayer(this.leafletElement)},o.componentDidUpdate=function(e){if(t.prototype.componentDidUpdate.call(this,e),this.props.attribution!==e.attribution){var n=this.props.leaflet.map;null!=n&&null!=n.attributionControl&&(n.attributionControl.removeAttribution(e.attribution),n.attributionControl.addAttribution(this.props.attribution))}this.updateLeafletElement(e,this.props)},o.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.layerContainer.removeLayer(this.leafletElement)},o.render=function(){var t=this.props.children;return null==t?null:null==this.contextValue?r.createElement(e.Fragment,null,t):r.createElement(zt,{value:this.contextValue},t)},qt(n,[{key:"layerContainer",get:function(){return this.props.leaflet.layerContainer||this.props.leaflet.map}}]),n}(Xt);var en=["stroke","color","weight","opacity","lineCap","lineJoin","dashArray","dashOffset","fill","fillColor","fillOpacity","fillRule","bubblingMouseEvents","renderer","className","interactive","pane","attribution"],tn=function(e){function t(t){var n;return null==(n=e.call(this,t)||this).contextValue&&(n.contextValue=xt({},t.leaflet,{popupContainer:n.leafletElement})),n}Vt(t,e);var n=t.prototype;return n.componentDidUpdate=function(t){e.prototype.componentDidUpdate.call(this,t),this.setStyleIfChanged(t,this.props)},n.getPathOptions=function(e){return t=e,en.reduce((function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e}),{});var t},n.setStyle=function(e){void 0===e&&(e={}),this.leafletElement.setStyle(e)},n.setStyleIfChanged=function(e,t){var n=this.getPathOptions(t);Gt(n,this.getPathOptions(e))||this.setStyle(n)},t}(Qt),nn=Bt(function(e){function t(){return e.apply(this,arguments)||this}Vt(t,e);var r=t.prototype;return r.createLeafletElement=function(e){var t=e.center,r=e.radius,o=$t(e,["center","radius"]);return new n.Circle(t,r,this.getOptions(o))},r.updateLeafletElement=function(e,t){t.center!==e.center&&this.leafletElement.setLatLng(t.center),t.radius!==e.radius&&this.leafletElement.setRadius(t.radius)},t}(tn)),rn=Bt(function(e){function t(){return e.apply(this,arguments)||this}Vt(t,e);var r=t.prototype;return r.createLeafletElement=function(e){var t=new n.CircleMarker(e.center,this.getOptions(e));return this.contextValue=xt({},e.leaflet,{popupContainer:t}),t},r.updateLeafletElement=function(e,t){t.center!==e.center&&this.leafletElement.setLatLng(t.center),t.radius!==e.radius&&this.leafletElement.setRadius(t.radius)},t}(tn)),on=function(e){return void 0===e&&(e=""),e.split(" ").filter(Boolean)},an=function(e,t){on(t).forEach((function(t){n.DomUtil.addClass(e,t)}))},ln=function(e,t){on(t).forEach((function(t){n.DomUtil.removeClass(e,t)}))},un=function(e,t,n){null!=e&&n!==t&&(null!=t&&t.length>0&&ln(e,t),null!=n&&n.length>0&&an(e,n))},cn=function(e){function n(t){var n;return Ft(Wt(n=e.call(this,t)||this),"onClose",(function(){n.props.onClose&&n.props.onClose()})),Ft(Wt(n),"onOpen",(function(){n.forceUpdate(),n.props.onOpen&&n.props.onOpen()})),n.leafletElement=n.createLeafletElement(t),n}Vt(n,e);var r=n.prototype;return r.createLeafletElement=function(e){throw new Error("createLeafletElement() must be implemented")},r.updateLeafletElement=function(e,t){},r.componentDidUpdate=function(e){un(this.leafletElement._container,e.className,this.props.className),this.updateLeafletElement(e,this.props),this.leafletElement.isOpen()&&(this.leafletElement.update(),this.onRender())},r.onRender=function(){},r.render=function(){return this.leafletElement._contentNode?t.createPortal(this.props.children,this.leafletElement._contentNode):null},n}(Xt),sn=Bt(function(e){function t(){return e.apply(this,arguments)||this}Vt(t,e);var r=t.prototype;return r.createLeafletElement=function(e){var t=new n.FeatureGroup(this.getOptions(e));return this.contextValue=xt({},e.leaflet,{layerContainer:t,popupContainer:t}),t},r.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.setStyle(this.props)},t}(tn)),fn=Bt(function(e){function t(){return e.apply(this,arguments)||this}Vt(t,e);var r=t.prototype;return r.createLeafletElement=function(e){return new n.GeoJSON(e.data,this.getOptions(e))},r.updateLeafletElement=function(e,t){"function"==typeof t.style?this.leafletElement.setStyle(t.style):this.setStyleIfChanged(e,t)},t}(tn)),pn=function(e){function t(){return e.apply(this,arguments)||this}Vt(t,e);var r=t.prototype;return r.createLeafletElement=function(e){return new n.GridLayer(this.getOptions(e))},r.updateLeafletElement=function(e,t){var n=t.opacity,r=t.zIndex;n!==e.opacity&&this.leafletElement.setOpacity(n),r!==e.zIndex&&this.leafletElement.setZIndex(r)},r.getOptions=function(t){var n=xt({},e.prototype.getOptions.call(this,t)),r=t.leaflet.map;return null!=r&&(null==n.maxZoom&&null!=r.options.maxZoom&&(n.maxZoom=r.options.maxZoom),null==n.minZoom&&null!=r.options.minZoom&&(n.minZoom=r.options.minZoom)),n},r.render=function(){return null},t}(Qt),dn=Bt(function(e){function t(){return e.apply(this,arguments)||this}Vt(t,e);var r=t.prototype;return r.createLeafletElement=function(e){var t=new n.ImageOverlay(e.url,e.bounds,this.getOptions(e));return this.contextValue=xt({},e.leaflet,{popupContainer:t}),t},r.updateLeafletElement=function(e,t){t.url!==e.url&&this.leafletElement.setUrl(t.url),t.bounds!==e.bounds&&this.leafletElement.setBounds(n.latLngBounds(t.bounds)),t.opacity!==e.opacity&&this.leafletElement.setOpacity(t.opacity),t.zIndex!==e.zIndex&&this.leafletElement.setZIndex(t.zIndex)},t}(Qt)),hn=Bt(function(e){function t(){return e.apply(this,arguments)||this}return Vt(t,e),t.prototype.createLeafletElement=function(e){var t=new n.LayerGroup([],this.getOptions(e));return this.contextValue=xt({},e.leaflet,{layerContainer:t}),t},t}(Qt)),mn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Ft(Wt(t=e.call.apply(e,[this].concat(r))||this),"contextValue",void 0),Ft(Wt(t),"layer",void 0),t}Vt(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=e.checked;null!=this.props.leaflet.map&&(!0!==this.props.checked||null!=t&&!1!==t?!0!==t||null!=this.props.checked&&!1!==this.props.checked||this.props.leaflet.map.removeLayer(this.layer):this.props.leaflet.map.addLayer(this.layer))},n.componentWillUnmount=function(){this.props.removeLayerControl(this.layer)},n.addLayer=function(){throw new Error("Must be implemented in extending class")},n.removeLayer=function(e){this.props.removeLayer(e)},n.render=function(){var e=this.props.children;return e?r.createElement(zt,{value:this.contextValue},e):null},t}(e.Component),vn=function(e){function t(t){var n;return Ft(Wt(n=e.call(this,t)||this),"addLayer",(function(e){n.layer=e;var t=n.props,r=t.addBaseLayer,o=t.checked;r(e,t.name,o)})),n.contextValue=xt({},t.leaflet,{layerContainer:{addLayer:n.addLayer.bind(Wt(n)),removeLayer:n.removeLayer.bind(Wt(n))}}),n}return Vt(t,e),t}(mn),yn=function(e){function t(t){var n;return Ft(Wt(n=e.call(this,t)||this),"addLayer",(function(e){n.layer=e;var t=n.props,r=t.addOverlay,o=t.checked;r(e,t.name,o)})),n.contextValue=xt({},t.leaflet,{layerContainer:{addLayer:n.addLayer.bind(Wt(n)),removeLayer:n.removeLayer.bind(Wt(n))}}),n}return Vt(t,e),t}(mn),gn=Bt(function(t){function o(e){var n;return Ft(Wt(n=t.call(this,e)||this),"controlProps",void 0),n.controlProps={addBaseLayer:n.addBaseLayer.bind(Wt(n)),addOverlay:n.addOverlay.bind(Wt(n)),leaflet:e.leaflet,removeLayer:n.removeLayer.bind(Wt(n)),removeLayerControl:n.removeLayerControl.bind(Wt(n))},n}Vt(o,t);var a=o.prototype;return a.createLeafletElement=function(e){e.children;var t=$t(e,["children"]);return new n.Control.Layers(void 0,void 0,t)},a.updateLeafletElement=function(e,n){t.prototype.updateLeafletElement.call(this,e,n),n.collapsed!==e.collapsed&&(!0===n.collapsed?this.leafletElement.collapse():this.leafletElement.expand())},a.componentWillUnmount=function(){var e=this;setTimeout((function(){t.prototype.componentWillUnmount.call(e)}),0)},a.addBaseLayer=function(e,t,n){void 0===n&&(n=!1),n&&null!=this.props.leaflet.map&&this.props.leaflet.map.addLayer(e),this.leafletElement.addBaseLayer(e,t)},a.addOverlay=function(e,t,n){void 0===n&&(n=!1),n&&null!=this.props.leaflet.map&&this.props.leaflet.map.addLayer(e),this.leafletElement.addOverlay(e,t)},a.removeLayer=function(e){null!=this.props.leaflet.map&&this.props.leaflet.map.removeLayer(e)},a.removeLayerControl=function(e){this.leafletElement.removeLayer(e)},a.render=function(){var t=this,n=e.Children.map(this.props.children,(function(n){return n?e.cloneElement(n,t.controlProps):null}));return r.createElement(e.Fragment,null,n)},o}(Zt));function bn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.keys(e).reduce((function(t,r){return-1===n.indexOf(r)&&(t[r]=e[r]),t}),{})}gn.BaseLayer=vn,gn.Overlay=yn;var En=["children","className","id","style","useFlyTo","whenReady"],On=function(e){return Array.isArray(e)?[e[0],e[1]]:[e.lat,e.lon?e.lon:e.lng]},Cn=function(e){function t(t){var n;return Ft(Wt(n=e.call(this,t)||this),"className",void 0),Ft(Wt(n),"contextValue",void 0),Ft(Wt(n),"container",void 0),Ft(Wt(n),"viewport",{center:void 0,zoom:void 0}),Ft(Wt(n),"_ready",!1),Ft(Wt(n),"_updating",!1),Ft(Wt(n),"onViewportChange",(function(){var e=n.leafletElement.getCenter();n.viewport={center:e?[e.lat,e.lng]:void 0,zoom:n.leafletElement.getZoom()},n.props.onViewportChange&&!n._updating&&n.props.onViewportChange(n.viewport)})),Ft(Wt(n),"onViewportChanged",(function(){n.props.onViewportChanged&&!n._updating&&n.props.onViewportChanged(n.viewport)})),Ft(Wt(n),"bindContainer",(function(e){n.container=e})),n.className=t.className,n}Vt(t,e);var o=t.prototype;return o.createLeafletElement=function(e){var t=e.viewport,r=$t(e,["viewport"]);return t&&(t.center&&(r.center=t.center),"number"==typeof t.zoom&&(r.zoom=t.zoom)),new n.Map(this.container,r)},o.updateLeafletElement=function(e,t){this._updating=!0;var n=t.bounds,r=t.boundsOptions,o=t.boxZoom,a=t.center,i=t.className,l=t.doubleClickZoom,u=t.dragging,c=t.keyboard,s=t.maxBounds,f=t.scrollWheelZoom,p=t.tap,d=t.touchZoom,h=t.useFlyTo,m=t.viewport,v=t.zoom;if(un(this.container,e.className,i),m&&m!==e.viewport){var y=m.center?m.center:a,g=null==m.zoom?v:m.zoom;!0===h?this.leafletElement.flyTo(y,g,this.getZoomPanOptions(t)):this.leafletElement.setView(y,g,this.getZoomPanOptions(t))}else a&&this.shouldUpdateCenter(a,e.center)?!0===h?this.leafletElement.flyTo(a,v,this.getZoomPanOptions(t)):this.leafletElement.setView(a,v,this.getZoomPanOptions(t)):"number"==typeof v&&v!==e.zoom&&(null==e.zoom?this.leafletElement.setView(a,v,this.getZoomPanOptions(t)):this.leafletElement.setZoom(v,this.getZoomPanOptions(t)));s&&this.shouldUpdateBounds(s,e.maxBounds)&&this.leafletElement.setMaxBounds(s),n&&(this.shouldUpdateBounds(n,e.bounds)||r!==e.boundsOptions)&&(!0===h?this.leafletElement.flyToBounds(n,this.getFitBoundsOptions(t)):this.leafletElement.fitBounds(n,this.getFitBoundsOptions(t))),o!==e.boxZoom&&(!0===o?this.leafletElement.boxZoom.enable():this.leafletElement.boxZoom.disable()),l!==e.doubleClickZoom&&(!0===l||"string"==typeof l?(this.leafletElement.options.doubleClickZoom=l,this.leafletElement.doubleClickZoom.enable()):this.leafletElement.doubleClickZoom.disable()),u!==e.dragging&&(!0===u?this.leafletElement.dragging.enable():this.leafletElement.dragging.disable()),c!==e.keyboard&&(!0===c?this.leafletElement.keyboard.enable():this.leafletElement.keyboard.disable()),f!==e.scrollWheelZoom&&(!0===f||"string"==typeof f?(this.leafletElement.options.scrollWheelZoom=f,this.leafletElement.scrollWheelZoom.enable()):this.leafletElement.scrollWheelZoom.disable()),p!==e.tap&&(!0===p?this.leafletElement.tap.enable():this.leafletElement.tap.disable()),d!==e.touchZoom&&(!0===d||"string"==typeof d?(this.leafletElement.options.touchZoom=d,this.leafletElement.touchZoom.enable()):this.leafletElement.touchZoom.disable()),this._updating=!1},o.getZoomPanOptions=function(e){return{animate:e.animate,duration:e.duration,easeLinearity:e.easeLinearity,noMoveStart:e.noMoveStart}},o.getFitBoundsOptions=function(e){return xt({},this.getZoomPanOptions(e),{},e.boundsOptions)},o.componentDidMount=function(){var t=bn.apply(void 0,[this.props].concat(En));this.leafletElement=this.createLeafletElement(t),this.leafletElement.on("move",this.onViewportChange),this.leafletElement.on("moveend",this.onViewportChanged),null!=t.bounds&&this.leafletElement.fitBounds(t.bounds,this.getFitBoundsOptions(t)),this.contextValue={layerContainer:this.leafletElement,map:this.leafletElement},e.prototype.componentDidMount.call(this),this.forceUpdate()},o.componentDidUpdate=function(t){!1===this._ready&&(this._ready=!0,this.props.whenReady&&this.leafletElement.whenReady(this.props.whenReady)),e.prototype.componentDidUpdate.call(this,t),this.updateLeafletElement(t,this.props)},o.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.leafletElement.off("move",this.onViewportChange),this.leafletElement.off("moveend",this.onViewportChanged),!0===this.props.preferCanvas?(this.leafletElement._initEvents(!0),this.leafletElement._stop()):this.leafletElement.remove()},o.shouldUpdateCenter=function(e,t){return!t||(e=On(e),t=On(t),e[0]!==t[0]||e[1]!==t[1])},o.shouldUpdateBounds=function(e,t){return!t||!n.latLngBounds(e).equals(n.latLngBounds(t))},o.render=function(){return r.createElement("div",{className:this.className,id:this.props.id,ref:this.bindContainer,style:this.props.style},this.contextValue?r.createElement(zt,{value:this.contextValue},this.props.children):null)},t}(Jt),wn=Bt(function(e){function t(){return e.apply(this,arguments)||this}Vt(t,e);var o=t.prototype;return o.createLeafletElement=function(e){var t=new n.Marker(e.position,this.getOptions(e));return this.contextValue=xt({},e.leaflet,{popupContainer:t}),t},o.updateLeafletElement=function(e,t){t.position!==e.position&&this.leafletElement.setLatLng(t.position),t.icon!==e.icon&&this.leafletElement.setIcon(t.icon),t.zIndexOffset!==e.zIndexOffset&&this.leafletElement.setZIndexOffset(t.zIndexOffset),t.opacity!==e.opacity&&this.leafletElement.setOpacity(t.opacity),t.draggable!==e.draggable&&(!0===t.draggable?this.leafletElement.dragging.enable():this.leafletElement.dragging.disable())},o.render=function(){var e=this.props.children;return null==e||null==this.contextValue?null:r.createElement(zt,{value:this.contextValue},e)},t}(Qt)),xn=0,Ln=["tile","shadow","overlay","map","marker","tooltip","popup"],_n=/-*pane/gi,Pn={position:"absolute",top:0,right:0,bottom:0,left:0},Sn=Bt(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Ft(Wt(t=e.call.apply(e,[this].concat(r))||this),"state",{name:void 0,context:void 0}),Ft(Wt(t),"setStyle",(function(e){var n=void 0===e?t.props:e,r=n.style,o=n.className,a=t.getPane(t.state.name);a&&(o&&an(a,o),r&&Object.keys(r).forEach((function(e){a.style[e]=r[e]})))})),t}Vt(t,e);var n=t.prototype;return n.componentDidMount=function(){this.createPane(this.props)},n.componentDidUpdate=function(e){if(this.state.name)if(this.props.name!==e.name)this.removePane(),this.createPane(this.props);else{if(e.className&&this.props.className!==e.className){var t=this.getPane(this.state.name);null!=t&&null!=e.className&&ln(t,e.className)}this.setStyle(this.props)}},n.componentWillUnmount=function(){this.removePane()},n.createPane=function(e){var t=e.leaflet.map,n=e.name||"pane-"+ ++xn;null!=t&&null!=t.createPane&&(null==(function(e){return-1!==Ln.indexOf(e.replace(_n,""))}(n)||this.getPane(n))&&t.createPane(n,this.getParentPane()),this.setState({name:n,context:xt({},e.leaflet,{pane:n})},this.setStyle))},n.removePane=function(){var e=this.state.name;if(null!=e){var t=this.getPane(e);null!=t&&t.remove&&t.remove();var n=this.props.leaflet.map;null!=n&&null!=n._panes&&(n._panes=bn(n._panes,e),n._paneRenderers=bn(n._paneRenderers,e))}},n.getParentPane=function(){return this.getPane(this.props.pane||this.props.leaflet.pane)},n.getPane=function(e){if(null!=e&&null!=this.props.leaflet.map)return this.props.leaflet.map.getPane(e)},n.render=function(){var e=this.state.context;return e?r.createElement(zt,{value:e},r.createElement("div",{style:Pn},this.props.children)):null},t}(e.Component)),Tn=Bt(function(e){function t(){return e.apply(this,arguments)||this}Vt(t,e);var r=t.prototype;return r.createLeafletElement=function(e){return new n.Polygon(e.positions,this.getOptions(e))},r.updateLeafletElement=function(e,t){t.positions!==e.positions&&this.leafletElement.setLatLngs(t.positions),this.setStyleIfChanged(e,t)},t}(tn)),jn=Bt(function(e){function t(){return e.apply(this,arguments)||this}Vt(t,e);var r=t.prototype;return r.createLeafletElement=function(e){return new n.Polyline(e.positions,this.getOptions(e))},r.updateLeafletElement=function(e,t){t.positions!==e.positions&&this.leafletElement.setLatLngs(t.positions),this.setStyleIfChanged(e,t)},t}(tn)),In=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Ft(Wt(t=e.call.apply(e,[this].concat(r))||this),"onPopupOpen",(function(e){e.popup===t.leafletElement&&t.onOpen()})),Ft(Wt(t),"onPopupClose",(function(e){e.popup===t.leafletElement&&t.onClose()})),Ft(Wt(t),"onRender",(function(){!1!==t.props.autoPan&&t.leafletElement.isOpen()&&(t.leafletElement._map&&t.leafletElement._map._panAnim&&(t.leafletElement._map._panAnim=void 0),t.leafletElement._adjustPan())})),t}Vt(t,e);var r=t.prototype;return r.getOptions=function(t){return xt({},e.prototype.getOptions.call(this,t),{autoPan:!1})},r.createLeafletElement=function(e){var t=this.getOptions(e);return t.autoPan=!1!==e.autoPan,new n.Popup(t,e.leaflet.popupContainer)},r.updateLeafletElement=function(e,t){t.position!==e.position&&this.leafletElement.setLatLng(t.position)},r.componentDidMount=function(){var e=this.props.position,t=this.props.leaflet,n=t.map,r=t.popupContainer,o=this.leafletElement;null!=n&&n.on({popupopen:this.onPopupOpen,popupclose:this.onPopupClose}),r?r.bindPopup(o):(e&&o.setLatLng(e),o.openOn(n))},r.componentWillUnmount=function(){var t=this.props.leaflet.map;null!=t&&(t.off({popupopen:this.onPopupOpen,popupclose:this.onPopupClose}),t.removeLayer(this.leafletElement)),e.prototype.componentWillUnmount.call(this)},t}(cn);Ft(In,"defaultProps",{pane:"popupPane"});var kn=Bt(In),Rn=Bt(function(e){function t(){return e.apply(this,arguments)||this}Vt(t,e);var r=t.prototype;return r.createLeafletElement=function(e){return new n.Rectangle(e.bounds,this.getOptions(e))},r.updateLeafletElement=function(e,t){t.bounds!==e.bounds&&this.leafletElement.setBounds(t.bounds),this.setStyleIfChanged(e,t)},t}(tn)),An=Bt(function(e){function t(){return e.apply(this,arguments)||this}return Vt(t,e),t.prototype.createLeafletElement=function(e){return new n.Control.Scale(e)},t}(Zt)),Nn=Bt(function(e){function r(t){var n;return Ft(Wt(n=e.call(this,t)||this),"leafletElement",void 0),Ft(Wt(n),"container",void 0),n.leafletElement=n.createLeafletElement(t),n}Vt(r,e);var o=r.prototype;return o.createLeafletElement=function(e){return this.container=document.createElementNS("http://www.w3.org/2000/svg","svg"),new n.SVGOverlay(this.container,e.bounds,this.getOptions(e))},o.updateLeafletElement=function(e,t){t.bounds!==e.bounds&&this.leafletElement.setBounds(t.bounds),t.opacity!==e.opacity&&this.leafletElement.setOpacity(t.opacity),t.zIndex!==e.zIndex&&this.leafletElement.setZIndex(t.zIndex)},o.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.layerContainer.addLayer(this.leafletElement)},o.componentDidUpdate=function(t){if(e.prototype.componentDidUpdate.call(this,t),this.props.attribution!==t.attribution){var n=this.props.leaflet.map;null!=n&&null!=n.attributionControl&&(n.attributionControl.removeAttribution(t.attribution),n.attributionControl.addAttribution(this.props.attribution))}this.updateLeafletElement(t,this.props)},o.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.layerContainer.removeLayer(this.leafletElement),this.container=null},o.render=function(){var e=this.props.children;return null==e||null==this.container?null:t.createPortal(e,this.container)},qt(r,[{key:"layerContainer",get:function(){return this.props.leaflet.layerContainer||this.props.leaflet.map}}]),r}(Xt)),Dn=Bt(function(e){function t(){return e.apply(this,arguments)||this}Vt(t,e);var r=t.prototype;return r.createLeafletElement=function(e){return new n.TileLayer(e.url,this.getOptions(e))},r.updateLeafletElement=function(t,n){e.prototype.updateLeafletElement.call(this,t,n),n.url!==t.url&&this.leafletElement.setUrl(n.url)},t}(pn)),Mn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Ft(Wt(t=e.call.apply(e,[this].concat(r))||this),"onTooltipOpen",(function(e){e.tooltip===t.leafletElement&&t.onOpen()})),Ft(Wt(t),"onTooltipClose",(function(e){e.tooltip===t.leafletElement&&t.onClose()})),t}Vt(t,e);var r=t.prototype;return r.createLeafletElement=function(e){return new n.Tooltip(this.getOptions(e),e.leaflet.popupContainer)},r.componentDidMount=function(){var e=this.props.leaflet.popupContainer;null!=e&&(e.on({tooltipopen:this.onTooltipOpen,tooltipclose:this.onTooltipClose}),e.bindTooltip(this.leafletElement))},r.componentWillUnmount=function(){var e=this.props.leaflet.popupContainer;null!=e&&(e.off({tooltipopen:this.onTooltipOpen,tooltipclose:this.onTooltipClose}),null!=e._map&&e.unbindTooltip(this.leafletElement))},t}(cn);Ft(Mn,"defaultProps",{pane:"tooltipPane"});var Un=Bt(Mn),zn=Bt(function(e){function t(){return e.apply(this,arguments)||this}Vt(t,e);var r=t.prototype;return r.createLeafletElement=function(e){return new n.VideoOverlay(e.url,e.bounds,this.getOptions(e))},r.componentDidMount=function(){e.prototype.componentDidMount.call(this),!0===this.props.play&&this.leafletElement.getElement().play()},r.updateLeafletElement=function(e,t){t.url!==e.url&&this.leafletElement.setUrl(t.url),t.bounds!==e.bounds&&this.leafletElement.setBounds(n.latLngBounds(t.bounds)),t.opacity!==e.opacity&&this.leafletElement.setOpacity(t.opacity),t.zIndex!==e.zIndex&&this.leafletElement.setZIndex(t.zIndex),!0!==t.play||e.play?t.play||!0!==e.play||this.leafletElement.getElement().pause():this.leafletElement.getElement().play()},t}(Qt)),Bn=Bt(function(e){function t(){return e.apply(this,arguments)||this}Vt(t,e);var r=t.prototype;return r.createLeafletElement=function(e){var t=e.url,r=$t(e,["url"]),o=this.getOptions(r),a=(o.leaflet,$t(o,["leaflet"]));return new n.TileLayer.WMS(t,a)},r.updateLeafletElement=function(t,n){e.prototype.updateLeafletElement.call(this,t,n);var r=t.url,o=(t.opacity,t.zIndex,$t(t,["url","opacity","zIndex"])),a=this.getOptions(o),i=(a.leaflet,$t(a,["leaflet"])),l=n.url,u=(n.opacity,n.zIndex,$t(n,["url","opacity","zIndex"])),c=this.getOptions(u),s=(c.leaflet,$t(c,["leaflet"]));l!==r&&this.leafletElement.setUrl(l),Gt(s,i)||this.leafletElement.setParams(s)},r.getOptions=function(t){var n=e.prototype.getOptions.call(this,t);return Object.keys(n).reduce((function(e,t){return Yt.test(t)||(e[t]=n[t]),e}),{})},t}(pn)),Vn=Bt(function(e){function t(){return e.apply(this,arguments)||this}return Vt(t,e),t.prototype.createLeafletElement=function(e){return new n.Control.Zoom(e)},t}(Zt)),Wn=Object.freeze({__proto__:null,LeafletConsumer:Ut,LeafletProvider:zt,withLeaflet:Bt,useLeaflet:function(){return e.useContext(Mt)},AttributionControl:Ht,Circle:nn,CircleMarker:rn,DivOverlay:cn,FeatureGroup:sn,GeoJSON:fn,GridLayer:pn,ImageOverlay:dn,LayerGroup:hn,LayersControl:gn,ControlledLayer:mn,Map:Cn,MapComponent:Xt,MapControl:Zt,MapEvented:Jt,MapLayer:Qt,Marker:wn,Pane:Sn,Path:tn,Polygon:Tn,Polyline:jn,Popup:kn,Rectangle:Rn,ScaleControl:An,SVGOverlay:Nn,TileLayer:Dn,Tooltip:Un,VideoOverlay:zn,WMSTileLayer:Bn,ZoomControl:Vn}),Fn=P((function(e,t){e.exports=function(e,t,n,r,o){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(t,n){t.exports=e},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=r.Control.extend({options:{className:""},onAdd:function(){var e=r.DomUtil.create("div",this.options.className);return r.DomEvent.disableClickPropagation(e),e}});t.default=o,e.exports=t.default},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(r):void 0},a=n(5),i=n(4),l=n(3),u=s(n(2)),c=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.MapControl),r(t,[{key:"createLeafletElement",value:function(e){var t=e.position,n=e.className;return this.leafletElement=new c.default({position:t,className:n}),this.leafletElement}},{key:"updateLeafletElement",value:function(e,n){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateLeafletElement",this).call(this,e,n),this.renderContent()}},{key:"componentDidMount",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this),this.renderContent()}},{key:"componentWillUnmount",value:function(){(0,i.unmountComponentAtNode)(this.leafletElement.getContainer()),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this)}},{key:"renderContent",value:function(){var e=this.leafletElement.getContainer();(0,i.render)(a.Children.only(this.props.children),e)}}]),t}();f.propTypes={className:u.default.string,children:u.default.node,position:u.default.string},t.default=(0,l.withLeaflet)(f),e.exports=t.default}])}(a,oe,Wn,o,r)})),Zn=_(Fn),Hn=(Fn.ReactLeafletCustomControl,{iconSize:30,iconAnchor:[15,30],popupAnchor:[0,-25],tooltipAnchor:[0,-25]}),$n=new a.divIcon(f({},Hn,{className:"ezgeodatagouv__marker"})),Gn=new a.divIcon(f({},Hn,{className:"ezgeodatagouv__marker--start"})),Kn=new a.divIcon(f({},Hn,{className:"ezgeodatagouv__marker--selected"}));function qn(t){var n=L(),r=n.siteaccess,o=n.contentType,a=n.maxDistance,i=n.baseUrl,l=b(e.useState([]),2),u=l[0],c=l[1],s=b(e.useState(!1),2),f=s[0],p=s[1];return e.useEffect((function(){if(t.length>0){var e=!0;p(!1);var n=b(t,2),l=n[0],u=n[1];return Ct("search/".concat(o,"/").concat(a,"/").concat(l,"/").concat(u),{headers:{Accept:"application/vnd.ez.api.ContentList+json","X-Siteaccess":r}}).then((function(e){return function(e,t){var n=e.ContentList.ContentInfo;return n.length>0?Promise.all(function(e,t,n){return e.reduce((function(e,t){return[].concat(E(e),[Ct("".concat(n,"ez_geo_data_gouv/view/content/").concat(t.Content._id,"/line/").concat(t._distance),{output:"text"})])}),[])}(n,0,t)).then((function(e){return n.reduce((function(t,n,r){return[].concat(E(t),[{_id:n.Content._id,_href:n.Content._href,name:n.Content.TranslatedName,distance:n._distance,html:e[r],loc:n.Content.CurrentVersion.Version.Fields.field.find((function(e){return"ezgmaplocation"===e.fieldTypeIdentifier})).fieldValue}])}),[])})):[]}(e,i)})).then((function(t){e&&(c(t),p(!0))})),function(){return e=!1}}}),[t]),[u,f]}var Yn=function(e){var t=e.list,n=e.currentIndex,o=e.changeIndex;return t.length>0?t.map((function(e,t){return r.createElement("div",{className:"ezgeodatagouv__line__wrapper".concat(t===n?"--selected":""),key:e._id,onClick:function(){return o(t)},dangerouslySetInnerHTML:{__html:e.html}})})):null},Jn=function(t){var n=t.coordinates,o=t.disableLoading,a=e.useRef(),i=b(e.useState(null),2),l=i[0],u=i[1],c=b(qn(n),2),s=c[0],f=c[1],p=L().mapWidth;return e.useEffect((function(){null!==l&&a.current.leafletElement.flyTo([s[l].loc.latitude,s[l].loc.longitude],15),s&&f&&o()}),[l,s,f]),s.length>0?r.createElement("div",{style:{display:"flex",flexFlow:"column",marginTop:"10px"}},r.createElement("div",{style:{display:"block"}},r.createElement(Yn,{list:s,currentIndex:l,changeIndex:u,coords:n})),r.createElement("div",{style:{maxWidth:p,overflow:"hidden"}},r.createElement(Cn,{ref:a,zoom:15,bounds:[n].concat(E(s.reduce((function(e,t){var n=t.loc,r=n.latitude,o=n.longitude;return[].concat(E(e),[[r,o]])}),[]))),boundsOptions:{padding:[30,30]},useFlyTo:!0,style:{width:p,height:300,zIndex:0}},r.createElement(Zn,{position:"topleft",className:"leaflet-bar ezgeodatagouv__control--reset"},r.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),u(null),a.current.leafletElement.flyToBounds(a.current.leafletElement.getBounds(),{maxZoom:15})}},r.createElement("svg",{viewBox:"0 0 32 32"},r.createElement("path",{d:"M32 0h-13l5 5-6 6 3 3 6-6 5 5z"}),r.createElement("path",{d:"M32 32v-13l-5 5-6-6-3 3 6 6-5 5z"}),r.createElement("path",{d:"M0 32h13l-5-5 6-6-3-3-6 6-5-5z"}),r.createElement("path",{d:"M0 0v13l5-5 6 6 3-3-6-6 5-5z"})))),r.createElement(An,{imperial:!1}),r.createElement(Dn,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.createElement(wn,{zIndexOffset:1e3,position:n,icon:Gn},r.createElement(Un,null,"Search point")),s.map((function(e,t){var n=e.name,o=e.loc,a=o.latitude,i=o.longitude;return r.createElement(wn,{icon:t===l?Kn:$n,position:[a,i],onClick:function(){return u(t)}},r.createElement(kn,{autoClose:!0},n))}))))):f&&r.createElement("div",{className:"ezgeodatagouv__result--status"},"Aucun rsultat.")},Xn=function(e){var t=c({},e);return React.createElement("svg",c({},t,{"stroke-width":"0",stroke:"currentColor",fill:"currentColor",viewBox:"0 0 32 32"}),React.createElement("path",{d:"M32 14h-3.154c-0.864-5.57-5.276-9.982-10.846-10.846v-3.154h-4v3.154c-5.57 0.864-9.982 5.276-10.846 10.846h-3.154v4h3.154c0.864 5.57 5.276 9.982 10.846 10.846v3.154h4v-3.154c5.57-0.864 9.982-5.276 10.846-10.846h3.154v-4zM24.776 14h-3.118c-0.603-1.705-1.953-3.056-3.658-3.658v-3.118c3.36 0.765 6.010 3.416 6.776 6.776zM16 18c-1.105 0-2-0.895-2-2s0.895-2 2-2c1.105 0 2 0.895 2 2s-0.895 2-2 2zM14 7.224v3.118c-1.705 0.603-3.056 1.953-3.658 3.658h-3.118c0.765-3.36 3.416-6.010 6.776-6.776zM7.224 18h3.118c0.603 1.705 1.953 3.056 3.658 3.658v3.118c-3.36-0.765-6.010-3.416-6.776-6.776zM18 24.776v-3.118c1.705-0.603 3.056-1.953 3.658-3.658h3.118c-0.765 3.36-3.416 6.010-6.776 6.776z"}))},Qn=function(e){var t=e.name,n=e.postcode,r=e.city;return t!==r?"".concat(t," ").concat(n," ").concat(r):"".concat(t," ").concat(n)},er=function(){var t=b(e.useState([]),2),n=t[0],o=t[1],a=b(e.useState(""),2),i=a[0],l=a[1],u=b(e.useState(!1),2),c=u[0],s=u[1],p=b(e.useState(!1),2),d=p[0],h=p[1],m=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wt,o=e.useState({}),a=b(o,2),i=a[0],l=a[1],u=e.useState(null),c=b(u,2),s=c[0],p=c[1],d=function(e){var t=e.coords,n=e.timestamp;l({latitude:t.latitude,longitude:t.longitude,accuracy:t.accuracy,timestamp:n})},h=function(e){p(e.message)};return e.useEffect((function(){if(navigator&&navigator.geolocation){if(t){var e=null;return n?e=navigator.geolocation.watchPosition(d,h,r):navigator.geolocation.getCurrentPosition(d,h,r),function(){return e&&navigator.geolocation.clearWatch(e)}}}else p("Geolocation is not supported")}),[t,n,r.enableHighAccuracy,r.timeout,r.maximumAge]),f({},i,{error:s})}(d),v=function(t){var n=b(e.useState([]),2),r=n[0],o=n[1];return e.useEffect((function(){if(""!==t.trim()){var e=!0;return Ct("".concat("https://api-adresse.data.gouv.fr/search/","?q=").concat(t)).then((function(t){var n=t.features;e&&o(n)})),function(){return e=!1}}}),[t]),r}(i),g=L().label;return e.useEffect((function(){d&&m&&!m.error&&m.latitude&&m.longitude&&(o([m.latitude,m.longitude]),s(!0),h(!1))}),[d,m.latitude,m.longitude]),r.createElement(r.Fragment,null,r.createElement("label",{id:"combosearch_label",class:"sr-only"},g),r.createElement(dt,{style:{display:"inline-block",width:"75%"},"aria-labelledby":"combosearch_label",onSelect:function(e){s(!0);var t=v.find((function(t){return Qn(t.properties)===e})).geometry.coordinates;t.reverse(),o(t)},openOnFocus:!0},r.createElement(ht,{selectOnClick:!0,autocomplete:!1,placeholder:"Adresse...",className:"form-control ezgeodatagouv__search--input",onChange:function(e){l(e.target.value)},disabled:c}),v&&r.createElement(mt,{className:"shadow-popup"},v.length>0?r.createElement(vt,null,v.map((function(e){var t=e.properties,n=t.id,o=y(t,["id"]);return r.createElement(yt,{key:n,value:Qn(o)},Qn(o))}))):r.createElement("span",{style:{display:"block",margin:8}},"Entrez une adresse pour afficher la liste des rsultats."))),r.createElement("button",{title:m&&m.error?"Erreur de golocalisation":m&&m.timestamp?"Golocalisation active":"Activer la golocalisation",className:"button btn bnt-submit",type:"button",style:{padding:"5px 5px 0px",margin:"0 0 0 10px",verticalAlign:"top"},onClick:function(){return h(!0)},disabled:m&&m.error},r.createElement(Xn,{className:"true",style:{display:"inline-block",width:"1.5em",height:"1.5em",color:m&&m.error?"#dc3545":m&&m.timestamp?"#28a745":"white"}})),c&&r.createElement("div",{className:"ezgeodatagouv__result--status"},"Recherche en cours..."),r.createElement(Jn,{key:n,coordinates:n,disableLoading:function(){return s(!1)}}))},tr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var t,n,a,u,c=(t=s,function(){var e,n=p(t);if(h()){var r=p(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return g(this,e)});function s(){return i(this,s),c.apply(this,arguments)}return n=s,(a=[{key:"connectedCallback",value:function(){var e,t,n={siteaccess:this.dataset.siteaccess,maxDistance:parseInt(this.dataset.distance,10),contentType:this.dataset.contenttype,width:null!==(e=this.dataset.width)&&void 0!==e?e:this.offsetWidth,label:null!==(t=this.dataset.label)&&void 0!==t?t:"type text to search",baseUrl:this.dataset.baseurl};o.render(r.createElement(x,{value:n},r.createElement(er,null)),this)}},{key:"disconnectedCallback",value:function(){o.unmountComponentAtNode(this)}}])&&l(n.prototype,a),u&&l(n,u),s}(v(HTMLElement));customElements.define("geo-finder",tr)}));
